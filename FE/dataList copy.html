<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simple List</title>
  <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encryption History</title>
    <link rel="stylesheet" href="adminPageEncryptStyles.css">
    <style>
        body {
          font-family: Arial, sans-serif;
          margin: 0;
          padding: 0;
        }
    
        .container {
          max-width: 600px;
          margin: 20px auto;
          padding: 0 20px;
        }
    
        ul {
          list-style-type: none;
          padding: 0;
        }
    
        li {
          padding: 10px;
          border-bottom: 1px solid #ccc;
        }
    
        li:last-child {
          border-bottom: none;
        }
      </style>
</head>
<body>
    <div class="container" id="listForm">
        <header>
            <img src="FileCloak.webp" alt="FileCloak Logo" class="logo">
        </header>
        <form class="login-form">
            <div class="container">
                <h1>Data List</h1>
                <ul id="list"></ul>
                <!-- Include the Firebase JavaScript SDK -->
                <script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js"></script>
                <script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js"></script>
                
                <!-- Include your getData.js script -->
                <script type="module" src="../controllers/getData.js"></script>
                <script type = "module">
                  // Import the getDataFile function from getData.js
                  import { getDataFile } from "../controllers/getData.js";

                  // Function to display data in the list
                  function displayData(data) {
                    const listElement = document.getElementById('list');

                    data.forEach((item) => {
                      const listItem = document.createElement('li');
                      listItem.textContent = `url: ${item.url}, encryptUrl: ${item.encryptUrl}`;
                      listElement.appendChild(listItem);
                    });
                  }

                  // Call the function to get data from Firestore and display it
                  getDataFile()
                    .then((data) => {
                      displayData(data);
                    })
                    .catch((error) => {
                      console.error("Error fetching data:", error);
                    });
                </script>
            </div>
        </form>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</body>
</html>